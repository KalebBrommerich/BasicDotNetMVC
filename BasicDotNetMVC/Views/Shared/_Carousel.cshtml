@model List<BasicDotNetMVC.Models.HeadlineParagraphImageModel>

<div class="flex flex-col w-full max-w-4xl mx-auto overflow-hidden rounded-xl ">
    <!-- Carousel Wrapper -->
    <div id="carouselImages" class="flex transition-transform duration-700 ease-in-out shadow-lg" style="transform: translateX(0%)">
        
        @foreach (var slide in Model)
        {
                @slide.Headline
            <div class="w-full flex-shrink-0 h-128">
                @Html.Partial("_HeadlineParagraphImage", slide)
            </div>
        }
    </div>

    <div class="flex flex-row flex-grow justify-between items-center m-2 gap-4">
    <!-- Prev Button -->
    <button onclick="changeSlide(-1)" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold p-2 rounded-lg shadow-lg">
        Previous
    </button>

    <!-- Next Button -->
    <button onclick="changeSlide(1)" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold p-2 rounded-lg shadow-lg">
        Next
    </button>
    </div>
</div>

<script>
    let currentIndex = 0;
    const images = document.getElementById('carouselImages');
    const totalSlides = images.children.length;

    function changeSlide(direction) {
        currentIndex = (currentIndex + direction + totalSlides) % totalSlides;
        images.style.transform = `translateX(-${currentIndex * 100}%)`;
    }
</script>
